// Orginal script developed by the U.S. Environmental Protection Agency - epa.gov// 04 April 2008// Modified by the National Ocean Service. 05 May // In the object literal, to prevent name clashesvar epaCore = {		showHideSwap : function(id1,id2) {		var id1c = document.getElementById(id1); var id2c = document.getElementById(id2);		if (id1c.className == 'hide' && id2c.className == 'post') {			id1c.className = 'show'; id2c.className = 'postFrame';		} else {			id1c.className = 'hide'; id2c.className = 'post';		}	},		articleShare : function(site) {		var popUpUrl = encodeURIComponent(window.location.href);		var title = encodeURIComponent(document.title);		var description = '';		switch (site) {			case "slashdot": epaCore.postPopUp('http://slashdot.org/slashdot-it.pl?op=basic&url='+popUpUrl, 'slashdot', 'toolbar=0,status=0,height=600,width=600,scrollbars=yes,resizable=yes');			break;			case "facebook": epaCore.postPopUp('http://www.facebook.com/sharer.php?u='+popUpUrl + '&t=' + title, 'facebook', 'toolbar=0,status=0,height=436,width=646,scrollbars=yes,resizable=yes');			break;			case "digg": epaCore.postPopUp('http://digg.com/remote-submit?phase=2&url='+popUpUrl + '&title=' + title, 'digg', 'toolbar=0,status=0,height=450,width=650,scrollbars=yes,resizable=yes');			break;				case "delicious": epaCore.postPopUp('http://delicious.com/save?jump=close&v=4&noui&jump=close&url='+popUpUrl + '&title=' + title, 'delicious', 'toolbar=0,status=0,height=400,width=700,scrollbars=yes,resizable=no');			break;						case "reddit": epaCore.postPopUp('http://reddit.com/submit?url='+popUpUrl+'&title=' + title, 'reddit', 'toolbar=0,status=0,height=400,width=700,scrollbars=yes,resizable=no');			break; 			case "stumble": epaCore.postPopUp('http://www.stumbleupon.com/submit?url='+popUpUrl+'&title=' + title, 'stumble', 'toolbar=0,status=0,height=400,width=700,scrollbars=yes,resizable=no');			break; 			case "twitter": epaCore.postPopUp('http://twitter.com/home?status='+title + ' ' + popUpUrl, 'twitter', 'toolbar=0,status=0,height=400,width=700,scrollbars=yes,resizable=no');			break; 			case "whatisthis": window.location='http://beta.w1.oceanservice.woc.noaa.gov/bookmarks.html';			break; 		}	},		postPopUp :function(url, name, params) { var win = window.open(url, name, params); },		addPostItem : function(parentElement, style, post_link, text) {		var postItem = document.createElement("li"); postItem.className = style;		var itemLink = document.createElement("a");		itemLink.setAttribute("href", post_link); itemLink.innerHTML = text;				postItem.appendChild(itemLink); parentElement.appendChild(postItem);	},		writePost : function() {		if(!document.getElementById('footer')) return;		if (document.getElementById('aara')) return;		var footer = document.getElementById("footer");		var parentElement = document.createElement("ul");		parentElement.id = "bookmarkList";				//create post li		var postElement = document.createElement("li");		postElement.className = "post"; postElement.setAttribute("id", "post");		// create post link		var postLink = document.createElement("a"); postLink.setAttribute("href", "#");		postLink.onclick = function () { epaCore.showHideSwap('postList', 'post'); return false; };		postLink.innerHTML = "Share";		postLink.className = "shareBtn";		postElement.appendChild(postLink);				// create unordered list for post items		var postList = document.createElement("ul");		postList.setAttribute("id","postList");	postList.className = "hide";				//add post links		epaCore.addPosts(postList);				postElement.appendChild(postList);		parentElement.appendChild(postElement);		footer.appendChild(parentElement);	},		addPosts : function(shareList) {			var sList;		if(typeof(shareList)=='string') { sList = document.getElementById(shareList); }		else if(typeof(shareList)=='object') { sList = shareList; }		else return false;			epaCore.addPostItem(sList, "delicious", "javascript:epaCore.articleShare('delicious');", "Delicious");		epaCore.addPostItem(sList, "digg", "javascript:epaCore.articleShare('digg');", "Digg");		epaCore.addPostItem(sList, "facebook", "javascript:epaCore.articleShare('facebook');", "Facebook");		epaCore.addPostItem(sList, "reddit", "javascript:epaCore.articleShare('reddit');", "Reddit");		epaCore.addPostItem(sList, "slashdot", "javascript:epaCore.articleShare('slashdot');", "Slashdot");		epaCore.addPostItem(sList, "stumble", "javascript:epaCore.articleShare('stumble');", "StumbleUpon");		epaCore.addPostItem(sList, "twitter", "javascript:epaCore.articleShare('twitter');", "Twitter");		epaCore.addPostItem(sList, "whatisthis", "javascript:epaCore.articleShare('whatisthis');", "What is this?");	}	}; // end epaCorefunction addEvent( obj, type, fn ) {	if (document.getElementById && document.createTextNode) {		if (obj.addEventListener)			obj.addEventListener( type, fn, false );		else if (obj.attachEvent) {			obj['e'+type+fn] = fn;			obj[type+fn] = function() { obj['e'+type+fn]( window.event ); }			obj.attachEvent( 'on'+type, obj[type+fn] );		}	}}			addEvent(window, 'load', epaCore.writePost);